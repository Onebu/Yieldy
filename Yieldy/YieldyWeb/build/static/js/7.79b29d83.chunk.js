(this.webpackJsonpyieldyweb=this.webpackJsonpyieldyweb||[]).push([[7],{831:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary";if("undefined"===typeof window)return null;var t=window.getComputedStyle(document.documentElement).getPropertyValue("--".concat(e));return t}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(9),r=n(1);function l(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var c=function(){var e=Object(r.useState)(l()),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c(l())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}},930:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),l=n(10),c=n(9),i=n(1),u=n.n(i),o=n(13),s=n(404),m=n(45),d=n(812),f=n(908),E=n(814),p=n(816),h=n(933),y=n(779),b=n(931),v=n(41),w=n(161),g=n(789),j=n(797),O=n(791),x=n(820),k=n(839),C=n(49),S=n.n(C),D=n(836),_=n(69),M=n(54),P=n(31),H=n(273),I=n(831),N={margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},z=function(e,t,n){return{labels:t.reverse(),datasets:[{label:n,backgroundColor:Object(I.a)("primary"),borderColor:Object(I.a)("primary"),borderWidth:1,data:e.reverse()}]}};t.default=function(e){var t=Object(D.a)().width,n=Object(i.useState)(!0),a=Object(c.a)(n,2),C=a[0],I=a[1],A=Object(i.useState)(!1),G=Object(c.a)(A,2),T=G[0],U=G[1],B=Object(o.d)((function(e){return e.device.fetchedDevice})),J=Object(o.d)((function(e){return e.company.companies[0]})),L=Object(o.d)((function(e){return e.user.userProfile})),W=Object(o.d)((function(e){return e.device.fetchedStatus})),V=Object(i.useState)(B?B.system._id:null),q=Object(c.a)(V,2),F=q[0],K=q[1],Q=Object(i.useState)(null),R=Object(c.a)(Q,2),X=R[0],Y=R[1],Z=Object(i.useState)(null),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=Object(c.a)(ne,2),re=ae[0],le=ae[1],ce=Object(o.c)(),ie=null,ue=null,oe=null;Object(i.useEffect)((function(){function t(){return(t=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(_.l(ee));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return a.apply(this,arguments)}function a(){return(a=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(M.e());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}U(!0),e.location.state&&e.location.state.device&&!X?(te(e.location.state.device),le(!0)):le(!1),ee?function(){return t.apply(this,arguments)}().then(n()).then(U(!1)):n().then(U(!1))}),[ce,ee,e.location.state,X]),Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(_.j(B.statusCode));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return B&&(K(B.system._id),Y(B.name),function(){e.apply(this,arguments)}()),function(){}}),[B,ce]);return!T&&L&&J?(J&&(ie=J.systems.map((function(e){return u.a.createElement(s.a,{content:"Click to switch system",key:e._id,title:"Hint",trigger:"hover"},u.a.createElement(m.a,{type:e._id===F&&"primary",value:e._id,color:"primary",onClick:function(){return K(e._id)}},e.name))})),F&&(oe=J.systems.filter((function(e){return e._id===F})),ue=u.a.createElement(d.a,null,oe[0].devices.map((function(e){return u.a.createElement(d.a.Item,{key:e._id,onClick:function(){Y(e.name),te(e._id)}},e.name)}))))),B||F?u.a.createElement(P.b,{style:{margin:20}},u.a.createElement(h.a,{width:t<800?"70%":500,title:"Comments",placement:"right",closable:!1,onClose:function(){return I(!C)},visible:!C},B&&u.a.createElement(H.c,{style:{width:300},system:B.system._id})),u.a.createElement("div",null,u.a.createElement("hr",{className:"hr-text","data-content":"Device"})),u.a.createElement(w.a,null,u.a.createElement(g.a,{xl:"12",lg:"12",md:"12",sm:"12",xs:"12",style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:20}},u.a.createElement(f.a.Group,{value:F},ie," ",!!ue&&u.a.createElement(E.a,{overlay:ue},u.a.createElement(m.a,{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},X||"Select Device",u.a.createElement(x.a,null)))))),"co"===L.role||re||J.systems.filter((function(e){return e._id===F}))[0].admins.includes(L._id)||J.systems.filter((function(e){return e._id===F}))[0].technicians.includes(L._id)?u.a.createElement("div",null,B&&B.system._id===F?u.a.createElement("div",null,u.a.createElement(w.a,null,u.a.createElement(g.a,{lg:"12",md:"12",sm:"12",xs:"12"},!!B&&u.a.createElement(H.b,{deviceInfo:B,systemId:F,onDelete:function(){window.location.reload()}}))),u.a.createElement(w.a,null,u.a.createElement(g.a,{lg:"8",md:"8",sm:"12",xs:"12"},!!W&&W.length>0&&u.a.createElement("div",null," ",u.a.createElement(y.a,null,u.a.createElement(j.a,null,u.a.createElement(k.a,{data:z(W.map((function(e){return e.cpuusage})),W.map((function(e){return S()(new Date(e.dataAdded)).format("MM-DD HH:mm")})),"Cpu Usage(%)")}))),u.a.createElement("br",null),u.a.createElement(y.a,null,u.a.createElement(j.a,null,u.a.createElement(k.a,{data:z(W.map((function(e){return Math.floor(100*e.memusage)})),W.map((function(e){return S()(new Date(e.dataAdded)).format("MM-DD HH:mm")})),"Mem. Usage(%)")}))))),u.a.createElement(g.a,{lg:"4",md:"4",sm:"12",xs:"12"},!!W&&W.length>0&&u.a.createElement("div",null," ",u.a.createElement(y.a,{title:"Status Detail"},u.a.createElement("p",null,"Arch: ",W[0].arch),u.a.createElement("p",null,"Platform: ",W[0].platform),u.a.createElement("p",null,"Up time: ",Math.floor(W[0].uptime/60)," mins"),u.a.createElement("p",null,"#Cores: ",W[0].cores)),u.a.createElement("br",null),u.a.createElement(y.a,{title:"Opened Ports"},u.a.createElement(O.a,{hover:!0,responsive:!0,className:"bg-white"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,u.a.createElement("small",null,"Port")),u.a.createElement("th",null,u.a.createElement("small",null,"Protocol")),u.a.createElement("th",null,u.a.createElement("small",null,"Service")),u.a.createElement("th",null,u.a.createElement("small",null,"Method")))),u.a.createElement("tbody",null,!!W[0].openedPort&&W[0].openedPort.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,e.port),u.a.createElement("td",null,e.protocol),u.a.createElement("td",null," ",e.service),u.a.createElement("td",null,"  ",e.method))})))))))),u.a.createElement(b.a,{style:N,onClick:function(){I(!C)}},u.a.createElement(v.k,{size:"30"}))):u.a.createElement(p.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist."})):u.a.createElement(p.a,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page."})):u.a.createElement(P.b,{style:{margin:20}},u.a.createElement("div",null,u.a.createElement("hr",{className:"hr-text","data-content":"Device"})),u.a.createElement(w.a,null,u.a.createElement(g.a,{xl:"12",lg:"12",md:"12",sm:"12",xs:"12",style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:20}},u.a.createElement(f.a.Group,{value:F},ie," ",u.a.createElement(f.a.Group,null,!!ue&&u.a.createElement(E.a,{overlay:ue},u.a.createElement(m.a,{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},X||"Select Device",u.a.createElement(x.a,null))))))),u.a.createElement(p.a,{status:"404",title:"!!!!",subTitle:"Select system and device first "}))):u.a.createElement(P.c,null)}}}]);
//# sourceMappingURL=7.79b29d83.chunk.js.map