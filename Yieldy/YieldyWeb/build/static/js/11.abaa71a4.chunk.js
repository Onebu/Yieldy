(this.webpackJsonpyieldyweb=this.webpackJsonpyieldyweb||[]).push([[11],{836:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(9),r=n(1);function c(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var i=function(){var e=Object(r.useState)(c()),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){function e(){i(c())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}},928:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),c=n(10),i=n(9),s=n(1),l=n.n(s),u=n(13),o=n(931),m=n(41),d=n(901),f=n.n(d),p=n(404),b=n(45),y=n(933),h=n(908),E=n(816),j=(n(412),n(54)),O=n(28),w=n(31),g=n(273),v=n(161),x=n(789),_=n(848),k=n(836),S=n(52),C={margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"};t.default=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),a=n[0],d=n[1],z=Object(s.useState)(!1),I=Object(i.a)(z,2),N=I[0],H=I[1],L=Object(s.useState)(!1),B=Object(i.a)(L,2),J=B[0],M=B[1],T=Object(s.useState)(!1),G=Object(i.a)(T,2),P=G[0],W=G[1],q=Object(u.d)((function(e){return e.company.companies[0]})),A=Object(u.d)((function(e){return e.system.systemInfo})),D=Object(u.d)((function(e){return e.user.userProfile})),F=Object(u.c)(),K=Object(s.useState)(!0),Q=Object(i.a)(K,2),R=Q[0],U=Q[1],V=e.history.location.state,X=Object(k.a)().width,Y=Object(S.g)(),Z=Object(s.useState)(V?V.systemId:null),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ne=null;return Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(j.e());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d(!0),function(){return e.apply(this,arguments)}().then(d(!1)),window.scrollTo(0,0),function(){}}),[F]),Object(s.useEffect)((function(){q&&q.systems.length>0?V||te(q.systems[0]._id):W(!0)}),[ne,q,V]),Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(O.l(ee));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}H(!0),ee&&function(){return e.apply(this,arguments)}().then(H(!1))}),[ee,F]),P&&Y.push("/company"),!a&&q&&D&&A?(!a&&q&&D&&A&&(ne=q.systems.map((function(e){return l.a.createElement(p.a,{content:"Click to switch system",key:e._id,title:"Hint",trigger:"hover"},l.a.createElement(b.a,{type:e._id===ee&&"primary",value:e._id,color:"primary",onClick:function(){return te(e._id)}},e.name))}))),l.a.createElement(f.a,{active:N,spinner:!0,text:"Loading your content..."},l.a.createElement(w.b,{style:{margin:20}},l.a.createElement(y.a,{width:X<800?"70%":500,title:"Comments",placement:"right",closable:!0,onClose:function(){return U(!R)},visible:!R},!R&&l.a.createElement(g.c,{style:{width:300},system:A._id})),l.a.createElement("div",null,l.a.createElement("hr",{className:"hr-text","data-content":"System"})),l.a.createElement(v.a,null,l.a.createElement(x.a,{xl:"10",lg:"10",md:"10",sm:"12",xs:"12",style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:20}},l.a.createElement(h.a.Group,{value:ee},ne)),("co"===D.role||A.admins.map((function(e){return e._id})).includes(D._id)||A.technicians.map((function(e){return e._id})).includes(D._id))&&l.a.createElement(x.a,{xl:"2",lg:"2",md:"2",sm:"12",xs:"12",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:20}},l.a.createElement(b.a,{className:"right-0",onClick:function(){return M(!J)}},J?l.a.createElement("small",null,"Show Members"):l.a.createElement("small",null,"Hide Members")))),"co"===D.role||A.admins.map((function(e){return e._id})).includes(D._id)||A.technicians.map((function(e){return e._id})).includes(D._id)?l.a.createElement("div",null,l.a.createElement(v.a,null,l.a.createElement(x.a,{lg:J?"12":"8",md:"12",sm:"12",xs:"12"},l.a.createElement(g.f,{todos:A.tasks,className:"mb-4"}),l.a.createElement(g.a,null)),l.a.createElement(x.a,{lg:"4",md:"12",sm:"12",xs:"12"},l.a.createElement(_.a,{isOpen:!J},l.a.createElement(g.e,{color:"info",className:"mb-4"}))),l.a.createElement(o.a,{style:C,onClick:function(){U(!R)}},l.a.createElement(m.k,{size:"30"})))):l.a.createElement(E.a,{status:"403",title:"403",subTitle:"Sorry, you are not authorized to access this page."})))):l.a.createElement(w.c,null)}}}]);
//# sourceMappingURL=11.abaa71a4.chunk.js.map