(this.webpackJsonpyieldyweb=this.webpackJsonpyieldyweb||[]).push([[10],{848:function(e,t,a){"use strict";var n,l=a(7),c=a(11),r=a(17),s=a(26),o=a(48),i=a(1),m=a.n(i),u=a(2),d=a.n(u),E=a(3),p=a.n(E),f=a(163),h=a(4),g=Object(o.a)({},f.Transition.propTypes,{isOpen:d.a.bool,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),tag:h.q,className:d.a.node,navbar:d.a.bool,cssModule:d.a.object,innerRef:d.a.oneOfType([d.a.func,d.a.string,d.a.object])}),b=Object(o.a)({},f.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:h.e.Collapse}),N=((n={})[h.d.ENTERING]="collapsing",n[h.d.ENTERED]="collapse show",n[h.d.EXITING]="collapsing",n[h.d.EXITED]="collapse",n);function x(e){return e.scrollHeight}var y=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){a[e]=a[e].bind(Object(r.a)(a))})),a}Object(s.a)(t,e);var a=t.prototype;return a.onEntering=function(e,t){this.setState({height:x(e)}),this.props.onEntering(e,t)},a.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},a.onExit=function(e){this.setState({height:x(e)}),this.props.onExit(e)},a.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},a.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},a.render=function(){var e=this,t=this.props,a=t.tag,n=t.isOpen,r=t.className,s=t.navbar,i=t.cssModule,u=t.children,d=(t.innerRef,Object(c.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),E=this.state.height,g=Object(h.o)(d,h.c),b=Object(h.n)(d,h.c);return m.a.createElement(f.Transition,Object(l.a)({},g,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=function(e){return N[e]||"collapse"}(t),c=Object(h.m)(p()(r,n,s&&"navbar-collapse"),i),d=null===E?null:{height:E};return m.a.createElement(a,Object(l.a)({},b,{style:Object(o.a)({},b.style,{},d),className:c,ref:e.props.innerRef}),u)}))},t}(i.Component);y.propTypes=g,y.defaultProps=b,t.a=y},929:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n),c=a(10),r=a(9),s=a(1),o=a.n(s),i=a(13),m=a(778),u=a(777),d=a(776),E=a(791),p=a(272),f=a(270),h=a(268),g=a(269),b=a(161),N=a(789),x=a(801),y=a(797),O=a(848),v=a(41),j=a(779),w=a(404),C=a(45),k=a(110),S=a(49),_=a(54),I=a(28),T=a(31),D=a(36),M=a(132),R=a(51),Y=a(68),A=a.n(Y),U=a(273),H=a(373),P=Object(M.a)({position:"bottom-right",color:"success"})(D.a);t.default=function(e){var t=Object(s.useState)(!1),a=Object(r.a)(t,2),n=a[0],D=a[1],M=Object(s.useState)(!0),Y=Object(r.a)(M,2),X=Y[0],G=Y[1],J=Object(s.useState)(!1),q=Object(r.a)(J,2),B=q[0],F=q[1],V=Object(s.useState)(!1),z=Object(r.a)(V,2),K=z[0],L=z[1],Q=Object(s.useState)(null),W=Object(r.a)(Q,2),Z=W[0],$=W[1],ee=Object(s.useState)(null),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],le=Object(s.useState)(null),ce=Object(r.a)(le,2),re=ce[0],se=ce[1],oe=Object(s.useState)(!1),ie=Object(r.a)(oe,2),me=ie[0],ue=ie[1],de=Object(s.useState)(!1),Ee=Object(r.a)(de,2),pe=Ee[0],fe=Ee[1],he=Object(s.useState)(!1),ge=Object(r.a)(he,2),be=ge[0],Ne=ge[1],xe=Object(i.d)((function(e){return e.company.companies[0]})),ye=Object(i.d)((function(e){return e.user.userProfile})),Oe=null,ve=null,je=null,we=Object(i.c)();Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(_.e());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}D(!0),function(){return e.apply(this,arguments)}().then(D(!1))}),[we]),Object(s.useEffect)((function(){xe&&xe.systems.length>0&&$(xe.systems[0]._id)}),[Oe,xe]);var Ce=function(){return L(!K)},ke=function(e,t){ne(e),se(t),F(!B)},Se=function(e){ue(e)},_e=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(_.e());case 2:F(!1),ne(null),se(null),Ne(!1),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(I.k(Z)).then(ue(!1));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!n&&xe&&ye?(Oe=xe.systems.length>=1?o.a.createElement(j.a,{style:{overflowX:"auto",paddingBottom:"15px",height:"fit-content",paddingTop:"inherit"}},o.a.createElement(m.a,null,xe.systems.map((function(e){return o.a.createElement(w.a,{key:e._id,content:"Click to switch system",title:"Hint",trigger:"hover"},o.a.createElement(C.a,{onClick:function(){return $(e._id)},type:Z===e._id&&"primary"},e.name))}))),Z?o.a.createElement(o.a.Fragment,null," ",xe.systems.filter((function(e){return e._id===Z})).map((function(t){return o.a.createElement(u.a,{key:t._id},o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"Name:"),o.a.createElement("span",{className:"col-sm-6"},t.name)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"#Admin:"),o.a.createElement("span",{className:"col-sm-6"},t.admins.length)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"#Technicians:"),o.a.createElement("span",{className:"col-sm-6"},t.technicians.length)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"#Conected Devices:"),o.a.createElement("span",{className:"col-sm-6"},t.devices.length)),o.a.createElement(d.a,{action:!0,className:"border-light text-right"},o.a.createElement(C.a,{onClick:function(){return e.history.push("/system",{systemId:t._id})}},"More detail")," ",o.a.createElement(w.a,{content:o.a.createElement(C.a,{type:"danger",onClick:Ie},"^_^Yes"),title:"Are you sure?",trigger:"click",visible:me,onVisibleChange:Se},xe.owner._id===ye._id&&o.a.createElement(C.a,{className:"align-self-center text-red-500 mr-4 cursor-pointer"},"Delete"))))}))):null):o.a.createElement(d.a,{action:!0,className:"border-light justify-center d-flex",color:"info"},o.a.createElement(k.a,{className:"-auto",image:A.a,imageStyle:{height:100},description:!1})),ve=xe.admins.length>=1?o.a.createElement(E.a,{responsive:!0,hover:!0},o.a.createElement("tbody",null,xe.admins.map((function(e){return o.a.createElement("tr",{className:"cursor-pointer",key:e._id,style:{backgroundColor:e.confirmed?"#eee":"#cc2"},onClick:function(){return ke("admins",e._id)}},o.a.createElement("td",{className:"align-middle text-center"},o.a.createElement(P,{src:e.profileImage?e.profileImage.cloudImage:void 0})),o.a.createElement("td",{className:"align-middle text-center"},e.name?e.name:e.username))})))):o.a.createElement(d.a,{action:!0,className:"border-light justify-center d-flex",color:"info"},o.a.createElement(k.a,{className:"-auto",image:A.a,imageStyle:{height:100},description:!1})),je=xe.technicians.length>=1?o.a.createElement(E.a,{responsive:!0,hover:!0},o.a.createElement("tbody",null,xe.technicians.map((function(e){return o.a.createElement("tr",{className:"cursor-pointer",key:e._id,style:{backgroundColor:e.confirmed?"#eee":"#cc2"},onClick:function(){return ke("technicians",e._id)}},o.a.createElement("td",{className:"align-middle text-center"},o.a.createElement(P,{src:e.profileImage?e.profileImage.cloudImage:void 0})),o.a.createElement("td",{className:"align-middle text-center"},e.name?e.name:e.username))})))):o.a.createElement(d.a,{action:!0,className:"border-light justify-center d-flex",color:"info"},o.a.createElement(k.a,{className:"-auto",image:A.a,imageStyle:{height:100},description:!1})),o.a.createElement(T.b,{style:{margin:20}},o.a.createElement("div",null,o.a.createElement("hr",{className:"hr-text","data-content":"Company"})),o.a.createElement(p.a,{centered:!0,isOpen:K,toggle:Ce},o.a.createElement(f.a,null,"Update Company"),o.a.createElement(h.a,null,o.a.createElement(R.j,{company:xe,onSuccess:function(){we(_e)}}))),o.a.createElement(p.a,{centered:!0,isOpen:pe,toggle:function(){return fe(!1)}},o.a.createElement(f.a,null,"Create System"),o.a.createElement(h.a,null,o.a.createElement(R.c,{onSuccess:function(){return fe(!1)}}))),o.a.createElement(p.a,{centered:!0,isOpen:be,toggle:function(){return Ne(!1)}},o.a.createElement(f.a,null,"Create User"),o.a.createElement(h.a,null,o.a.createElement(R.e,{onSuccess:_e})),o.a.createElement(g.a,null,o.a.createElement(C.a,{color:"secondary",onClick:function(){return Ne(!1)}},"Cancel"))),o.a.createElement(p.a,{centered:!0,isOpen:B,toggle:function(){return ke(null,null)}},o.a.createElement(f.a,null,"User Info"),o.a.createElement(h.a,null,o.a.createElement(H.a,{type:ae,userId:re,onSuccess:_e})),o.a.createElement(g.a,null,o.a.createElement(C.a,{color:"secondary",onClick:function(){return ke(null,null)}},"Cancel"))),o.a.createElement(b.a,null,o.a.createElement(N.a,{lg:"8",md:"8",sm:"12",xs:"12"},o.a.createElement(j.a,{className:"mb-4",color:"info"},o.a.createElement(x.a,null,o.a.createElement(b.a,{className:"d-flex"},o.a.createElement("div",{className:"mx-8 ml-4 mr-auto"},"Company"),xe.owner._id===ye._id?o.a.createElement("div",{className:"align-self-center text-red-500 mr-4 cursor-pointer",onClick:Ce},"Edit"):null)),o.a.createElement(y.a,null,o.a.createElement(u.a,null,o.a.createElement(d.a,{action:!0,className:"border-light d-flex",onClick:function(){G(!X)},color:"info"},o.a.createElement("div",{className:"mx-8 font-semibold col-md-8 mr-auto"},"Detail"),o.a.createElement("div",{className:"align-self-center text-red-500"},X?o.a.createElement(v.r,null):o.a.createElement(v.s,null)))),o.a.createElement(O.a,{isOpen:X},o.a.createElement(u.a,null,o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"Name:"),o.a.createElement("span",{className:"col-sm-6"},xe.name)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"website:"),o.a.createElement("span",{className:"col-sm-6"},""===xe.website?o.a.createElement("div",{className:"text-muted"},"Not set"):xe.website)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"address:"),o.a.createElement("span",{className:"col-sm-6"},""===xe.address?o.a.createElement("div",{className:"text-muted"},"Not set"):xe.address)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"email:"),o.a.createElement("span",{className:"col-sm-6"},o.a.createElement("span",null,""===xe.email?o.a.createElement("div",{className:"text-muted"},"Not set"):xe.email))),o.a.createElement(d.a,{action:!0,className:"border-light d-flex "},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"Contact phone:"),o.a.createElement("span",{className:"col-sm-6"},""===xe.phone?o.a.createElement("div",{className:"text-muted"},"Not set"):xe.phone)),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"Registration Date:"),o.a.createElement("span",{className:"col-sm-6"},""===xe.registrationdate?o.a.createElement("div",{className:"text-muted"},"Not set"):S(xe.registrationdate).format("YYYY-MM-DD"))),o.a.createElement(d.a,{action:!0,className:"border-light d-flex"},o.a.createElement("span",{className:"font-semibold mr-auto col-sm-6"},"Description:"),o.a.createElement("span",{className:"col-sm-6"},xe.description?xe.description:o.a.createElement("div",{className:"text-muted"},"Not set"))))))),o.a.createElement(j.a,{color:"info"},o.a.createElement(x.a,null,o.a.createElement(b.a,{className:"d-flex"},o.a.createElement("div",{className:"mx-8 ml-4 mr-auto"},"Systems"),xe.owner._id===ye._id?o.a.createElement("div",{className:"align-self-center text-red-500 mr-4 cursor-pointer",onClick:function(){fe(!0)}},"Create"):null)),o.a.createElement(y.a,null,Oe))),o.a.createElement(N.a,{lg:"4",md:"4",sm:"12",xs:"12"},o.a.createElement(j.a,{className:"mb-4"},o.a.createElement(x.a,null,"Owner"),o.a.createElement(U.g,{avatar:xe.owner.profileImage?xe.owner.profileImage.cloudImage:void 0,title:xe.owner.username,subtitle:"Own "+xe.owner.company.length+" companies",text:xe.owner.email,style:{height:300}},o.a.createElement(C.a,{color:"light",onClick:function(){return ke(xe.owner.role,xe.owner._id)}}," Detail"))),o.a.createElement(j.a,{color:"info"},o.a.createElement(x.a,{className:"mb-3"},o.a.createElement(b.a,{className:"d-flex"},o.a.createElement("div",{className:"mx-8 ml-4 mr-auto"},"Members"),xe.owner._id===ye._id?o.a.createElement("div",{className:"align-self-center text-red-500 mr-4 cursor-pointer",onClick:function(){return Ne(!0)}},"Add User"):null)),o.a.createElement(d.a,null,"Admin"),ve,o.a.createElement(d.a,null,"Technician"),je))))):o.a.createElement(T.c,null)}}}]);
//# sourceMappingURL=10.d7669b84.chunk.js.map